---
import Layout from '../../layouts/Layout.astro';
import Navigation from '../../components/Navigation.astro';

// Import section components
import Hero from '../../components/sections/Hero.astro';
import ProblemStatement from '../../components/sections/ProblemStatement.astro';
import HowItWorks from '../../components/sections/HowItWorks.astro';
import EfficiencyComparison from '../../components/sections/EfficiencyComparison.astro';
import UseCasesSummary from '../../components/sections/UseCasesSummary.astro';
import CompetitivePositioning from '../../components/sections/CompetitivePositioning.astro';
import ServiceTiers from '../../components/sections/ServiceTiers.astro';
import DynamicPricingSection from '../../components/DynamicPricingSection';
import FAQ from '../../components/sections/FAQ.astro';
import Contact from '../../components/sections/Contact.astro';
import Footer from '../../components/sections/Footer.astro';
import { getLocaleFromPath } from '../../i18n';
import { getRegionFromLocale } from '../../config/pricing';

const locale = getLocaleFromPath(Astro.url.pathname);
const region = getRegionFromLocale(locale);
---

<Layout title="Digitize Handwritten Forms | 99.8% Accuracy in 24-48h | Formalogix">
	<!-- Navigation -->
	<Navigation />

	<!-- Page Sections -->
	<Hero />
	<ProblemStatement />
	<HowItWorks />
	<EfficiencyComparison />
	<UseCasesSummary />
	<CompetitivePositioning />
	<ServiceTiers />
	<DynamicPricingSection initialLocale={locale} initialRegion={region} client:load />
	<FAQ />
	<Contact />
	<Footer />

	<!-- Scroll Animation Script -->
	<script>
		// Intersection Observer for scroll animations
		const observerOptions = {
			threshold: 0.1,
			rootMargin: '0px 0px -50px 0px'
		};

		const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					entry.target.classList.add('revealed');
					// Optionally unobserve after revealing
					observer.unobserve(entry.target);
				}
			});
		}, observerOptions);

		// Observe all elements with scroll-reveal class
		document.addEventListener('DOMContentLoaded', () => {
			const revealElements = document.querySelectorAll('.scroll-reveal');
			revealElements.forEach(el => observer.observe(el));
		});
	</script>
</Layout>
