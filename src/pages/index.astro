---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';

// Import section components
import Hero from '../components/sections/Hero.astro';
import ProblemSolution from '../components/sections/ProblemSolution.astro';
import SocialProof from '../components/sections/SocialProof.astro';
import UseCasesSummary from '../components/sections/UseCasesSummary.astro';
import WhyFormalogix from '../components/sections/WhyFormalogix.astro';
import FAQ from '../components/sections/FAQ.astro';
import DynamicPricingSection from '../components/DynamicPricingSection';
import Contact from '../components/sections/Contact.astro';
import Footer from '../components/sections/Footer.astro';
import { getLocaleFromPath } from '../i18n';
import { getRegionFromLocale } from '../config/pricing';

const locale = getLocaleFromPath(Astro.url.pathname);
const region = getRegionFromLocale(locale);
---

<Layout title="Handschriftliche Formulare digitalisieren | 99,8% Genauigkeit & schnelle Bearbeitung | formalogix">
	<!-- Navigation -->
	<Navigation />

	<!-- Page Sections (8 sections - optimized from 12) -->
	<Hero />
	<ProblemSolution />
	<SocialProof />
	<UseCasesSummary />
	<WhyFormalogix />
	<FAQ />
	<DynamicPricingSection initialLocale={locale} initialRegion={region} client:load />
	<Contact />
	<Footer />

	<!-- Scroll Animation Script -->
	<script>
		// Intersection Observer for scroll animations
		const observerOptions = {
			threshold: 0.1,
			rootMargin: '0px 0px -50px 0px'
		};

		const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					entry.target.classList.add('revealed');
					// Optionally unobserve after revealing
					observer.unobserve(entry.target);
				}
			});
		}, observerOptions);

		// Observe all elements with scroll-reveal class
		document.addEventListener('DOMContentLoaded', () => {
			const revealElements = document.querySelectorAll('.scroll-reveal');
			revealElements.forEach(el => observer.observe(el));
		});
	</script>
</Layout>
